# Mini Analytics System — Infamous Game Analytics

## Описание проекта

Данный проект представляет собой **end-to-end систему сбора и анализа данных**, реализованную с использованием Docker, PostgreSQL, Redash и Jupyter Notebook.

В качестве предметной области выбрана **игровая аналитика** на примере игры *Infamous*.  
Система имитирует поток игровых событий главного героя **Cole MacGrath**, сохраняет их в базу данных и предоставляет инструменты для анализа и визуализации данных.

Проект демонстрирует полный цикл работы с данными:
- генерация событий
- хранение
- аналитика
- визуализация

---

## Архитектура системы

Архитектура проекта построена по принципу централизованного хранения данных.

Python-генератор автоматически создаёт поток игровых событий и записывает их напрямую в базу данных PostgreSQL. PostgreSQL выступает в роли центрального хранилища, обеспечивая надёжное сохранение и доступ к данным.

К базе данных подключаются два аналитических инструмента:
- **Redash**, используемый для построения SQL-запросов и интерактивных дашбордов;
- **Jupyter Notebook**, применяемый для исследовательского анализа данных и визуализации с использованием Python-библиотек.

Все компоненты системы развёрнуты в отдельных контейнерах и запускаются одной командой с помощью Docker Compose, что обеспечивает воспроизводимость и простоту демонстрации проекта.


### Компоненты системы

- **Generator** — Python-скрипт, автоматически генерирующий игровые события  
- **PostgreSQL** — хранение всех сгенерированных событий  
- **Redash** — SQL-аналитика и интерактивные дашборды  
- **Jupyter Notebook** — исследовательский анализ данных (pandas, matplotlib)  
- **Docker Compose** — запуск всей системы одной командой  

---

## Предметная область — игровая статистика (Infamous)

Генерируемые события:
- убийство врагов (`kill_enemy`)
- убийство мирных жителей (`kill_civilian`)
- моральный выбор (`moral_choice`)
- подзарядка энергии (`recharge`)
- завершение миссии (`mission_complete`)
- прокачка способности (`ability_upgrade`)

Каждое событие содержит **осмысленные параметры**, влияющие на развитие персонажа (опыт, карма, ранг).

---

## Структура данных

Таблица `game_events` содержит следующие поля:

| Поле          | Описание |
|---------------|----------|
| `id`          | уникальный идентификатор |
| `ts`          | временная метка события |
| `player`      | имя игрока |
| `action`      | тип действия |
| `xp_delta`    | полученный опыт |
| `karma_delta` | изменение кармы |
| `karma_total` | суммарная карма |
| `rank`        | ранг персонажа |
| `energy_source` | источник энергии |

---

## Запуск проекта

### Требования
- Docker  
- Docker Compose  

### Запуск всей системы

```
docker-compose up -d --build
```

## Запуск и работа системы

После запуска проекта автоматически поднимаются следующие сервисы:
- PostgreSQL
- генератор данных
- Redash
- Jupyter Notebook

---

## Генерация данных

Генератор:
- запускается автоматически при старте контейнеров
- создаёт игровые события с периодичностью **1 раз в секунду**
- записывает данные напрямую в базу данных PostgreSQL

### Проверка работы генератора

```
docker-compose logs -f generator
```



